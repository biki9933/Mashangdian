{"remainingRequest":"D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\node_modules\\babel-loader\\lib\\index.js!D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\src\\store\\index.js","dependencies":[{"path":"D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\src\\store\\index.js","mtime":1733140887888},{"path":"D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\babel.config.js","mtime":1618227600000},{"path":"D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733062317302},{"path":"D:\\git\\Mashangdian\\Vue\\saoma-diancan-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":1733062318538}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    // 用户信息\n    token: localStorage.getItem('token') || '',\n    userInfo: JSON.parse(localStorage.getItem('currentUser') || '{}'),\n    // 商户信息\n    currentMerchant: JSON.parse(localStorage.getItem('currentMerchant') || '{}'),\n    // 菜单ID\n    menuId: JSON.parse(localStorage.getItem('nuvmenuid') || '\"\"')\n  },\n  mutations: {\n    // 设置用户信息\n    SET_USER_INFO: function SET_USER_INFO(state, data) {\n      state.token = data.token;\n      state.userInfo = data.userInfo;\n      localStorage.setItem('token', data.token);\n      localStorage.setItem('currentUser', JSON.stringify(data.userInfo));\n    },\n    // 设置商户信息\n    SET_MERCHANT: function SET_MERCHANT(state, merchantInfo) {\n      state.currentMerchant = merchantInfo;\n      localStorage.setItem('currentMerchant', JSON.stringify(merchantInfo));\n    },\n    // 设置菜单ID\n    SET_MENU_ID: function SET_MENU_ID(state, menuId) {\n      state.menuId = menuId;\n      localStorage.setItem('nuvmenuid', JSON.stringify(menuId));\n    },\n    // 清除所有信息（登出时使用）\n    CLEAR_ALL: function CLEAR_ALL(state) {\n      // 清除用户信息\n      state.token = '';\n      state.userInfo = {};\n      localStorage.removeItem('token');\n      localStorage.removeItem('currentUser');\n\n      // 清除商户信息\n      state.currentMerchant = {};\n      localStorage.removeItem('currentMerchant');\n\n      // 清除菜单信息\n      state.menuId = '';\n      localStorage.removeItem('nuvmenuid');\n    },\n    // 仅清除商户信息\n    CLEAR_MERCHANT: function CLEAR_MERCHANT(state) {\n      state.currentMerchant = {};\n      localStorage.removeItem('currentMerchant');\n    }\n  },\n  getters: {\n    isLoggedIn: function isLoggedIn(state) {\n      return !!state.token && !!state.currentMerchant.id;\n    },\n    // 获取当前商户信息\n    currentMerchant: function currentMerchant(state) {\n      return state.currentMerchant;\n    },\n    // 获取当前用户信息\n    currentUser: function currentUser(state) {\n      return state.userInfo;\n    }\n  }\n});",{"version":3,"names":["Vue","Vuex","use","Store","state","token","localStorage","getItem","userInfo","JSON","parse","currentMerchant","menuId","mutations","SET_USER_INFO","data","setItem","stringify","SET_MERCHANT","merchantInfo","SET_MENU_ID","CLEAR_ALL","removeItem","CLEAR_MERCHANT","getters","isLoggedIn","id","currentUser"],"sources":["D:/git/Mashangdian/Vue/saoma-diancan-pc/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    // 用户信息\r\n    token: localStorage.getItem('token') || '',\r\n    userInfo: JSON.parse(localStorage.getItem('currentUser') || '{}'),\r\n    // 商户信息\r\n    currentMerchant: JSON.parse(localStorage.getItem('currentMerchant') || '{}'),\r\n    // 菜单ID\r\n    menuId: JSON.parse(localStorage.getItem('nuvmenuid') || '\"\"')\r\n  },\r\n  \r\n  mutations: {\r\n    // 设置用户信息\r\n    SET_USER_INFO(state, data) {\r\n      state.token = data.token\r\n      state.userInfo = data.userInfo\r\n      localStorage.setItem('token', data.token)\r\n      localStorage.setItem('currentUser', JSON.stringify(data.userInfo))\r\n    },\r\n    \r\n    // 设置商户信息\r\n    SET_MERCHANT(state, merchantInfo) {\r\n      state.currentMerchant = merchantInfo\r\n      localStorage.setItem('currentMerchant', JSON.stringify(merchantInfo))\r\n    },\r\n    \r\n    // 设置菜单ID\r\n    SET_MENU_ID(state, menuId) {\r\n      state.menuId = menuId\r\n      localStorage.setItem('nuvmenuid', JSON.stringify(menuId))\r\n    },\r\n    \r\n    // 清除所有信息（登出时使用）\r\n    CLEAR_ALL(state) {\r\n      // 清除用户信息\r\n      state.token = ''\r\n      state.userInfo = {}\r\n      localStorage.removeItem('token')\r\n      localStorage.removeItem('currentUser')\r\n      \r\n      // 清除商户信息\r\n      state.currentMerchant = {}\r\n      localStorage.removeItem('currentMerchant')\r\n      \r\n      // 清除菜单信息\r\n      state.menuId = ''\r\n      localStorage.removeItem('nuvmenuid')\r\n    },\r\n    \r\n    // 仅清除商户信息\r\n    CLEAR_MERCHANT(state) {\r\n      state.currentMerchant = {}\r\n      localStorage.removeItem('currentMerchant')\r\n    }\r\n  },\r\n  \r\n  getters: {\r\n    isLoggedIn: state => {\r\n      return !!state.token && !!state.currentMerchant.id\r\n    },\r\n    // 获取当前商户信息\r\n    currentMerchant: state => {\r\n      return state.currentMerchant\r\n    },\r\n    // 获取当前用户信息\r\n    currentUser: state => {\r\n      return state.userInfo\r\n    }\r\n  }\r\n})"],"mappings":"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","ignoreList":[]}]}