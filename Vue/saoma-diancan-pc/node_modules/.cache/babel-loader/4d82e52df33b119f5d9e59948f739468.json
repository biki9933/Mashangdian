{"remainingRequest":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\babel-loader\\lib\\index.js!D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\test\\smdc\\Vue\\saoma-diancan-pc\\src\\App.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\src\\App.vue","mtime":1630174884093},{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\babel.config.js","mtime":1618227600000},{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733062317302},{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\babel-loader\\lib\\index.js","mtime":1733062318538},{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733062317302},{"path":"D:\\test\\smdc\\Vue\\saoma-diancan-pc\\node_modules\\vue-loader\\lib\\index.js","mtime":1733062316941}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nexport default {\n  created: function created() {\n    var _this = this;\n    // 订单数存入本地缓存\n    var order_num = localStorage.getItem(\"order_num\");\n    if (!order_num || order_num < 1) {\n      localStorage.setItem('order_num', 0);\n    }\n    //1.建立连接\n    this.goeasy.connect({\n      id: \"001\",\n      //pubsub选填，im必填\n      data: {\n        \"avatar\": \"/www/xxx.png\",\n        \"nickname\": \"Neo\"\n      },\n      //必须是一个对象，pubsub选填，im必填，用于上下线提醒和查询在线用户列表时，扩展更多的属性\n      onSuccess: function onSuccess() {\n        //连接成功\n        console.log(\"连接成功\"); //连接成功\n        _this.sub_message();\n      },\n      onFailed: function onFailed(error) {\n        //连接失败\n        console.log(\"连接失败\");\n      },\n      onProgress: function onProgress(attempts) {\n        //连接或自动重连中\n        console.log(\"连接或自动重连中\");\n      }\n    });\n  },\n  methods: {\n    // 2.接收订阅消息\n    sub_message: function sub_message() {\n      var _this2 = this;\n      var pubsub = this.goeasy.pubsub;\n      pubsub.subscribe({\n        channel: \"my_channel\",\n        //替换为您自己的channel\n        onMessage: function onMessage(message) {\n          var order_num_a = localStorage.getItem(\"order_num\");\n          localStorage.setItem('order_num', Number(order_num_a) + 1);\n          var order_num_b = localStorage.getItem(\"order_num\");\n          // console.log(order_num_b)\n          _this2.$store.commit('order_remind', Number(order_num_b));\n          // console.log(message);\n        },\n        onSuccess: function onSuccess() {\n          console.log(\"Channel订阅成功。\");\n        },\n        onFailed: function onFailed(error) {\n          console.log(\"Channel订阅失败, 错误编码：\" + error.code + \" 错误信息：\" + error.content);\n        }\n      });\n    }\n  }\n};",{"version":3,"names":["created","_this","order_num","localStorage","getItem","setItem","goeasy","connect","id","data","onSuccess","console","log","sub_message","onFailed","error","onProgress","attempts","methods","_this2","pubsub","subscribe","channel","onMessage","message","order_num_a","Number","order_num_b","$store","commit","code","content"],"sources":["src/App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\n</template>\n\n<script>\n\nexport default {\r\n\tcreated() {\r\n\t\t// 订单数存入本地缓存\r\n\t\tconst order_num = localStorage.getItem(\"order_num\")\r\n\t\tif(!order_num || order_num < 1){\r\n\t\t\tlocalStorage.setItem('order_num',0)\r\n\t\t}\r\n\t\t//1.建立连接\r\n\t\tthis.goeasy.connect({\r\n\t\t    id:\"001\", //pubsub选填，im必填\r\n\t\t    data:{\"avatar\":\"/www/xxx.png\",\"nickname\":\"Neo\"}, //必须是一个对象，pubsub选填，im必填，用于上下线提醒和查询在线用户列表时，扩展更多的属性\r\n\t\t    onSuccess: ()=>{  //连接成功\r\n\t\t      console.log(\"连接成功\") //连接成功\r\n\t\t\t  this.sub_message()\r\n\t\t    },\r\n\t\t    onFailed: (error)=>{ //连接失败\r\n\t\t      console.log(\"连接失败\");\r\n\t\t    },\r\n\t\t    onProgress:(attempts)=>{ //连接或自动重连中\r\n\t\t      console.log(\"连接或自动重连中\");\r\n\t\t    }\r\n\t\t});\r\n\t},\r\n\tmethods:{\r\n\t\t// 2.接收订阅消息\r\n\t\tsub_message(){\r\n\t\t\tvar pubsub = this.goeasy.pubsub;\r\n\t\t\tpubsub.subscribe({\r\n\t\t\t    channel: \"my_channel\",//替换为您自己的channel\r\n\t\t\t    onMessage: (message)=> {\r\n\t\t\t\t\tconst order_num_a = localStorage.getItem(\"order_num\")\r\n\t\t\t\t\tlocalStorage.setItem('order_num',Number(order_num_a) + 1)\r\n\t\t\t\t\tconst order_num_b = localStorage.getItem(\"order_num\")\r\n\t\t\t\t\t// console.log(order_num_b)\r\n\t\t\t\t\tthis.$store.commit('order_remind',Number(order_num_b))\r\n\t\t\t        // console.log(message);\r\n\t\t\t    },\r\n\t\t\t    onSuccess: ()=> {\r\n\t\t\t        console.log(\"Channel订阅成功。\");\r\n\t\t\t    },\r\n\t\t\t    onFailed: (error)=> {\r\n\t\t\t        console.log(\"Channel订阅失败, 错误编码：\" + error.code + \" 错误信息：\" + error.content)\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t}\r\n\t}\n}\n</script>\n\n<style>\n.el-loading-mask{left: 200px !important;}\r\n.image-view-title img{object-fit: cover;}\n</style>\n"],"mappings":";AAQA;EACAA,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA;IACA,IAAAC,SAAA,GAAAC,YAAA,CAAAC,OAAA;IACA,KAAAF,SAAA,IAAAA,SAAA;MACAC,YAAA,CAAAE,OAAA;IACA;IACA;IACA,KAAAC,MAAA,CAAAC,OAAA;MACAC,EAAA;MAAA;MACAC,IAAA;QAAA;QAAA;MAAA;MAAA;MACAC,SAAA,WAAAA,UAAA;QAAA;QACAC,OAAA,CAAAC,GAAA;QACAX,KAAA,CAAAY,WAAA;MACA;MACAC,QAAA,WAAAA,SAAAC,KAAA;QAAA;QACAJ,OAAA,CAAAC,GAAA;MACA;MACAI,UAAA,WAAAA,WAAAC,QAAA;QAAA;QACAN,OAAA,CAAAC,GAAA;MACA;IACA;EACA;EACAM,OAAA;IACA;IACAL,WAAA,WAAAA,YAAA;MAAA,IAAAM,MAAA;MACA,IAAAC,MAAA,QAAAd,MAAA,CAAAc,MAAA;MACAA,MAAA,CAAAC,SAAA;QACAC,OAAA;QAAA;QACAC,SAAA,WAAAA,UAAAC,OAAA;UACA,IAAAC,WAAA,GAAAtB,YAAA,CAAAC,OAAA;UACAD,YAAA,CAAAE,OAAA,cAAAqB,MAAA,CAAAD,WAAA;UACA,IAAAE,WAAA,GAAAxB,YAAA,CAAAC,OAAA;UACA;UACAe,MAAA,CAAAS,MAAA,CAAAC,MAAA,iBAAAH,MAAA,CAAAC,WAAA;UACA;QACA;QACAjB,SAAA,WAAAA,UAAA;UACAC,OAAA,CAAAC,GAAA;QACA;QACAE,QAAA,WAAAA,SAAAC,KAAA;UACAJ,OAAA,CAAAC,GAAA,wBAAAG,KAAA,CAAAe,IAAA,cAAAf,KAAA,CAAAgB,OAAA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]}]}